(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{293:function(e,t,n){e.exports=n(641)},515:function(e,t){},517:function(e,t){},551:function(e,t){},552:function(e,t){},641:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(24),i=n.n(o),c=n(650),s=n(52),l=n(42),u=n.n(l),m=n(8),d=n(10),p=n(11),h=n(13),f=n(12),v=n(14),b=n(9),g=n(656),E=n(649),y=n(651);function O(){var e=Object(m.a)(["\n  left: 0;\n  top: 0;\n  width: 100%;\n  position: absolute;\n  height: 70px;\n  background-color: white;\n  border-bottom: 1px solid rgba(0,0,0,0.08);\n  box-sizing: border-box;\n  * {\n    box-sizing: border-box;\n  }\n  margin-bottom: 20px;\n  display: flex;\n  .title {\n    width: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n    padding-left: 50px;\n  }\n  .icon {\n    padding-right: 50px;\n    width: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n  }\n"]);return O=function(){return e},e}var j=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.title;return r.a.createElement(w,null,r.a.createElement("div",{className:"title"},e),r.a.createElement("div",{className:"icon"},r.a.createElement("span",null,"Icon")))}}]),t}(a.Component),w=b.a.div(O()),x=j,k=(n(127),function(e){e&&(localStorage.setItem("jwtToken",e),u.a.defaults.headers.common.Authorization="Bearer ".concat(e))}),S=function(e,t){e.push(t)},C=function(e){return e.location.pathname};function T(){var e=Object(m.a)(["\n  border-bottom: 1px solid rgba(255,255,255,0.15);\n  width: 100%;\n  height: 88px;\n  text-align: center;\n  color: white;\n  cursor: pointer;\n  clear: both;\n  &:hover {\n    background-color: rgba(255,255,255,0.08);\n  }\n  .icon {\n    padding-top: 12px;\n    font-size: 35px;\n  }\n  .text {\n    padding-top: 0px;\n  }\n"]);return T=function(){return e},e}function A(){var e=Object(m.a)(["\n  background-color: rgba(0,0,0,0.75);\n  box-sizing: border-box;\n  width: 100px;\n  position: fixed;\n  height: 100%;\n  min-height: 100%;\n  overflow-y: auto;\n  clear: both;\n  top: 80px;\n  margin-left: -130px;\n  z-index: 999999;\n  .active {\n    background-color: rgba(255,255,255,0.9);\n    border-right: 1px solid rgba(0,0,0,0.08);\n    color: black;\n    &:hover {\n      background-color: rgba(255,255,255,0.9);\n    }\n  }\n"]);return A=function(){return e},e}var M=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(o)))).isAnActiveRoute=function(e){var t=n.props.history;return e.route===C(t)},n.getMenuOptions=function(){var e=n.props.history;return[{icon:"fas fa-users",text:"Users",route:"/users"},{icon:"fas fa-calendar-week",text:"Events",route:"/events"}].map(function(t,a){return r.a.createElement(R,{className:n.isAnActiveRoute(t)?"active":"",onClick:function(){return S(e,t.route)},key:a},r.a.createElement("div",{className:"icon"},r.a.createElement("i",{className:t.icon})),r.a.createElement("div",{className:"text"},t.text))})},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(U,null,this.getMenuOptions())}}]),t}(a.Component),U=b.a.div(A()),R=b.a.div(T()),P=M,F=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.history;return r.a.createElement("div",null,r.a.createElement(P,{history:n}),t)}}]),t}(a.Component),N=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.history;return r.a.createElement(F,{history:e},r.a.createElement(x,{title:"Home"}),r.a.createElement(y.a,null,r.a.createElement(y.a.Body,null,"Here, upcoming events")))}}]),t}(a.Component),H=n(26),I=n(92),z=(n(366),n(368),n(269)),_=n.n(z),D=n(642),B=n(645),L=n(646),W=n(647),V=n(270),q=n.n(V),G=n(46),K=n.n(G),J=function(e,t){return{type:e,payload:t}},Q=function(e){var t="";return t=e.response?e.response.data.error:e.toString(),J("USER_ERROR",t)},$=function(e){return function(t,n){return new Promise(function(a,r){0===K.a.size(n().UserReducer.users)||e?u.a.get("/api/user/").then(function(e){var n=K.a.keyBy(e.data.users,"_id");t(J("GET_USERS",n)),a()}).catch(function(e){t(Q(e)),r()}):a()})}},X=n(291),Y=n(5),Z=n.n(Y),ee=n(121),te=n.n(ee),ne=n(271),ae=n.n(ne),re=n(273),oe=n.n(re),ie=n(274),ce=n.n(ie),se=n(278),le=n.n(se),ue=n(275),me=n.n(ue),de=n(276),pe=n.n(de),he=n(277),fe=n.n(he),ve=n(279),be=n.n(ve),ge=n(165),Ee=n.n(ge),ye=n(272),Oe=n.n(ye),je=n(122),we={success:ae.a,warning:Oe.a,error:oe.a,info:ce.a},xe=Object(je.withStyles)(function(e){return{success:{backgroundColor:me.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:pe.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"}}})(function(e){var t=e.classes,n=e.className,a=e.message,o=e.onClose,i=e.variant,c=e.onUndo,s=e.type,l=Object(X.a)(e,["classes","className","message","onClose","variant","onUndo","type"]),u=we[i],m=[];return"undo"===s&&m.push(r.a.createElement(te.a,{key:"undo",color:"primary",style:{color:"white"},size:"small",onClick:c},"UNDO")),m.push(r.a.createElement(fe.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:o},r.a.createElement(le.a,{className:t.icon}))),r.a.createElement(Ee.a,Object.assign({className:Z()(t[i],n),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",style:{fontSize:"13px"},className:t.message},r.a.createElement(u,{className:Z()(t.icon,t.iconVariant)}),a),action:m},l))}),ke=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={open:n.props.open},n.handleClick=function(){n.setState({open:!0})},n.handleClose=function(e,t){var a=n.props.onClose;a&&a(e,t),"clickaway"!==t&&n.setState({open:!1})},n.getSnackbarType=function(e){return"undo"===e?"warning":"simple"===e?"info":e},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({open:e.open})}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.message,a=e.onUndo,o=e.vertical,i=e.horizontal,c=this.state.open,s=this.props.type||"success";return r.a.createElement("div",null,r.a.createElement(be.a,{anchorOrigin:{vertical:o||"bottom",horizontal:i||"right"},open:c,autoHideDuration:6e3,onClose:this.handleClose},r.a.createElement(xe,{onClose:this.handleClose,classes:t,message:n,variant:this.getSnackbarType(s),type:s,onUndo:a})))}}]),t}(r.a.Component),Se=n(44),Ce=n(643),Te=n(644),Ae=n(653),Me=n(648),Ue=n(280),Re=n.n(Ue),Pe=n(652),Fe=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.title;return r.a.createElement(Pe.a,this.props,r.a.createElement(Pe.a.Header,{closeButton:!0},n),r.a.createElement(Pe.a.Body,null,t))}}]),t}(a.Component);function Ne(){var e=Object(m.a)(["\n  margin-top: 18px;\n  height: 40px;\n  display: flex;\n  justify-content: left;\n"]);return Ne=function(){return e},e}var He=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).getInitialState=function(){return{name:"",password:"",username:"",isAdmin:!1,id:null}},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(Se.a)({},a,r))},n.handleCheckboxChange=function(e){n.setState({isAdmin:e.target.checked})},n.createUser=function(){var e=n.props.createUser,t=n.state,a=t.username,r=t.password,o=t.isAdmin;e({username:a,password:r,name:t.name,isAdmin:o})},n.modifyUser=function(){var e=n.props.modifyUser,t=n.state,a=t.username,r=t.password,o=t.isAdmin,i=t.name,c=t.id,s={};r&&(s={password:r}),e(Object(H.a)({id:c,username:a,name:i,isAdmin:o},s))},n.handleSubmit=function(e){e.preventDefault(),n.props.edit?n.modifyUser():n.createUser()},n.generatePassword=function(){var e=Re.a.generate({length:6,numbers:!0});n.setState({password:e})},n.getValidationState=function(){var e=n.state.password.length;return e>=6?"success":0===e?"warning":e<6?"error":null},n.state=n.getInitialState(),n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.edit,n=e.userToModify,a=e.show;if(t){var r=n.name,o=n.username,i=n.isAdmin,c=n._id;this.setState({id:c,name:r,username:o,isAdmin:i})}else a||this.setState(this.getInitialState())}},{key:"render",value:function(){var e=this,t=this.props,n=t.show,a=t.onHide,o=t.edit,i=this.state,c=i.name,s=i.password,l=i.username,u=i.isAdmin;return r.a.createElement(Fe,{title:"User",onHide:function(){e.setState(e.getInitialState(),function(){return a()})},show:n},r.a.createElement(D.a,{fluid:!0},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(Ce.a,null,r.a.createElement(Te.a,null,"Name"),r.a.createElement(Ae.a,{required:!0,type:"text",value:c,name:"name",placeholder:"Enter name",onChange:this.handleChange})),r.a.createElement(Ce.a,null,r.a.createElement(Te.a,null,"Username"),r.a.createElement(Ae.a,{required:!0,type:"text",value:l,name:"username",placeholder:"Enter username",onChange:this.handleChange})),r.a.createElement(B.a,null,r.a.createElement(L.a,{md:4},r.a.createElement(Ce.a,{validationState:this.getValidationState()},r.a.createElement(Te.a,null,"Password"),r.a.createElement(Ae.a,{required:!o,type:"text",value:s,name:"password",placeholder:"Enter password",onChange:this.handleChange}))),r.a.createElement(L.a,{md:4},r.a.createElement(Ie,null,r.a.createElement(W.a,{onClick:this.generatePassword,bsStyle:"primary"},"Generate password"))),r.a.createElement(L.a,{md:4},r.a.createElement(Ie,null,r.a.createElement(Me.a,{name:"isAdmin",defaultChecked:u,onChange:this.handleCheckboxChange},"Is Admin")))),r.a.createElement(B.a,null,r.a.createElement(L.a,{md:6},r.a.createElement(W.a,{type:"submit",bsStyle:"success"},"Save"),r.a.createElement(W.a,{onClick:a,style:{marginLeft:"10px"},type:"button",bsStyle:"danger"},"Cancel"))))))}}]),t}(a.Component),Ie=b.a.div(Ne()),ze=He,_e=function(e,t){return t.isAdmin?r.a.createElement("span",null,"ADMIN"):r.a.createElement("span",null,"USER")};function De(){var e=Object(m.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n"]);return De=function(){return e},e}function Be(){var e=Object(m.a)(["\n  width: 35px;\n  height: 30px;\n  padding: 0;\n  text-align: center;\n"]);return Be=function(){return e},e}function Le(){var e=Object(m.a)(["\n  height: 15px;\n  width: 100%;\n"]);return Le=function(){return e},e}var We=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).setUsersFromProps=function(e){var t=e.users,a=n.state,r=a.edit,o=a.userToModify,i=K.a.values(t).reverse();n.setState({users:i,userToModify:r?t[o._id]:{}})},n.handleHide=function(){n.setState({showModal:!1,edit:!1})},n.createUser=function(e){(0,n.props.createUser)(e).then(function(){n.setState({showModal:!1,edit:!1,snackbar:{open:!0,message:"User added successfully",type:"success"}})}).catch(function(){var e=n.props.error;n.setState({snackbar:{open:!0,message:e,type:"error"}})})},n.modifyUser=function(e){(0,n.props.modifyUser)(e).then(function(){n.setState({showModal:!1,edit:!1,snackbar:{open:!0,message:"User updated successfully",type:"success"}})}).catch(function(){var e=n.props.error;n.setState({snackbar:{open:!0,message:e,type:"error"}})})},n.removeUser=function(e){(0,n.props.removeUser)({id:e._id}).then(function(){n.setState({snackbar:{open:!0,message:"User removed successfully",type:"success"}})}).catch(function(){var e=n.props.error;n.setState({snackbar:{open:!0,message:e,type:"error"}})})},n.getCurrentUser=function(e){var t=n.state.users,a=e._id;return K.a.keyBy(t,"_id")[a]},n.handleCloseSnackBar=function(){var e=n.state.snackbar;n.setState({snackbar:Object(H.a)({},e,{open:!1})})},n.getEditOption=function(e,t){return r.a.createElement(Ge,null,r.a.createElement(qe,{bsStyle:"primary",onClick:function(){n.setState({edit:!0,userToModify:n.getCurrentUser(t),showModal:!0})}},r.a.createElement("i",{className:"far fa-edit"})))},n.getRemoveOption=function(e,t){return r.a.createElement(Ge,null,r.a.createElement(qe,{bsStyle:"danger",onClick:function(){return n.removeUser(t)}},r.a.createElement("i",{className:"far fa-trash-alt"})))},n.handleHide=n.handleHide.bind(Object(I.a)(Object(I.a)(n))),n.state={showModal:!1,users:[],userToModify:{},edit:!1,snackbar:{open:!1,message:"",type:""}},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){var e=this;(0,this.props.getUsers)().catch(function(){var t=e.props.error;e.setState({snackbar:{open:!0,message:t,type:"error"}})})}},{key:"componentDidMount",value:function(){this.setUsersFromProps(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.setUsersFromProps(e)}},{key:"render",value:function(){var e=this,t=this.props.history,n=this.state,a=n.showModal,o=n.users,i=n.edit,c=n.userToModify,s=n.snackbar,l=function(e,t){var n={width:"75px"};return[{dataField:"name",text:"Name"},{dataField:"username",text:"Username"},{isDummyField:!0,dataField:"isAdmin",text:"User Type",formatter:_e},{style:n,headerStyle:n,dataField:"edit",text:"",formatter:e},{style:n,headerStyle:n,dataField:"remove",text:"",formatter:t}]}(this.getEditOption,this.getRemoveOption);return r.a.createElement(F,{history:t},r.a.createElement(x,{title:"Users"}),r.a.createElement(y.a,null,r.a.createElement(ze,{userToModify:c,edit:i,show:a,onHide:this.handleHide,createUser:this.createUser,modifyUser:this.modifyUser}),r.a.createElement(y.a.Body,null,r.a.createElement(D.a,{fluid:!0},r.a.createElement(B.a,null,r.a.createElement(L.a,{md:12},r.a.createElement(W.a,{onClick:function(){return e.setState({showModal:!0,edit:!1})},bsStyle:"success"},"Add a New User"))),r.a.createElement(Ve,null),r.a.createElement(B.a,null,r.a.createElement(L.a,{md:12},r.a.createElement(q.a,{keyField:"_id",data:o,columns:l,pagination:_()()})))))),r.a.createElement(ke,{type:s.type,open:s.open,message:s.message,onClose:this.handleCloseSnackBar}))}}]),t}(a.Component),Ve=b.a.div(Le()),qe=Object(b.a)(W.a)(Be()),Ge=b.a.div(De()),Ke=Object(s.b)(function(e){return{users:e.UserReducer.users,error:e.UserReducer.error}},function(e){return{getUsers:function(){return e($())},createUser:function(t){return e(function(e){return function(t){return new Promise(function(n,a){u.a.post("/api/user",e).then(function(e){var a=e.data.user;t(J("ADD_USER",a)),n()}).catch(function(e){t(Q(e)),a()})})}}(t))},modifyUser:function(t){return e(function(e){return function(t){return new Promise(function(n,a){var r=e.id;u.a.put("/api/user/".concat(r),e).then(function(e){var a=e.data,r=a.user,o=a.messsage;t(J("UPDATE_USER",r)),n(o)}).catch(function(e){t(Q(e)),a()})})}}(t))},removeUser:function(t){return e(function(e){return function(t){return new Promise(function(n,a){var r=e.id;u.a.delete("/api/user/".concat(r)).then(function(){t($(!0)),n()}).catch(function(e){t(Q(e)),a()})})}}(t))}}})(We),Je=n(654),Qe=n(657),$e=n(170),Xe=n(31),Ye=n.n(Xe),Ze=n(655);function et(){var e=Object(m.a)(["\n  margin-left: 8px;\n  background-color: rgb(88, 94, 218);\n  color: white;\n  width: 45px;\n  height: 45px;\n  &:hover {\n    background-color: rgb(66, 72, 204);\n  }\n"]);return et=function(){return e},e}function tt(){var e=Object(m.a)(["\n  width: 65px;\n  height: 65px;\n"]);return tt=function(){return e},e}function nt(){var e=Object(m.a)(["\n  width: 100%;\n  height: 65px;\n  display: flex;\n"]);return nt=function(){return e},e}function at(){var e=Object(m.a)(["\n  height: 100%;\n  width: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return at=function(){return e},e}function rt(){var e=Object(m.a)(["\n  height: 100%;\n  width: 90px;\n"]);return rt=function(){return e},e}function ot(){var e=Object(m.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  padding-left: 8px;\n"]);return ot=function(){return e},e}function it(){var e=Object(m.a)(["\n  height: 69px;\n  widht: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return it=function(){return e},e}function ct(){var e=Object(m.a)(["\n  border: none;\n  border-radius: 3px;\n  width: 100%;\n  margin: 0;\n  height: 100%;\n  background-color: white;\n  outline: 0;\n  width: 55px;\n  height: 55px;\n  font-size: 18px;\n  font-weight: 400;\n  &:hover {\n    background-color: rgba(0,0,0,0.1);\n  }\n"]);return ct=function(){return e},e}function st(){var e=Object(m.a)(["\n  font-size: 25px;\n"]);return st=function(){return e},e}var lt=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).getInitialState=function(){return{hours:n.getHourAndMinuteFormat(Ye()().format("h").toString()),minutes:n.getHourAndMinuteFormat(Ye()().minutes()),labelTime:Ye()().format("A").toLowerCase(),showHoursTable:!1,showMinutesTable:!1}},n.getHourAndMinuteFormat=function(e){return e<10?"0".concat(e):e},n.decreaseHour=function(e){var t=e;return 1===t?t=12:t--,t},n.increaseHour=function(e){var t=e;return 12===t?t=1:t++,t},n.handleHourePick=function(e){var t=n.state.hours,a=parseInt(t,10);"-"===e&&(a=n.decreaseHour(a)),"+"===e&&(a=n.increaseHour(a)),a<10&&(a="0".concat(a)),n.setState({hours:a},function(){return n.returnTimeToParent()})},n.handleMinutePick=function(e){var t=n.state,a=t.minutes,r=t.hours,o=parseInt(a,10),i=parseInt(r,10);"-"===e&&(0===o?(o=59,i=n.decreaseHour(i)):o--),"+"===e&&(59===a?(o=0,i=n.increaseHour(i)):o++),o<10&&(o="0".concat(o)),i<10&&(i="0".concat(i)),n.setState({minutes:o,hours:i},function(){return n.returnTimeToParent()})},n.getOption=function(e,t,n){return r.a.createElement("div",null,r.a.createElement(ht,null,r.a.createElement(dt,null,r.a.createElement(mt,{type:"button",onClick:function(){return t("+")}},r.a.createElement(ut,{className:"fas fa-angle-up"}))),r.a.createElement(dt,null,r.a.createElement(mt,{type:"button",onClick:n},e)),r.a.createElement(dt,null,r.a.createElement(mt,{type:"button",onClick:function(){return t("-")}},r.a.createElement(ut,{className:"fas fa-angle-down"})))))},n.handleLabelTime=function(){var e=n.state.labelTime;n.setState({labelTime:"pm"===e?"am":"pm"},function(){return n.returnTimeToParent()})},n.getTimeForm=function(){var e=n.state,t=e.hours,a=e.minutes,o=e.labelTime;return r.a.createElement(pt,null,n.getOption(t,n.handleHourePick,n.handleHoursTableShow),r.a.createElement(ft,null,r.a.createElement("span",null,":")),n.getOption(a,n.handleMinutePick,n.handleMinutesTableShow),r.a.createElement("div",null,r.a.createElement(gt,{onClick:n.handleLabelTime,type:"button"},o.toUpperCase())))},n.setHourFromTable=function(e){n.setState({hours:e,showHoursTable:!1},function(){return n.returnTimeToParent()})},n.setMinuteFromTable=function(e){n.setState({minutes:e,showMinutesTable:!1},function(){return n.returnTimeToParent()})},n.getHoursTable=function(){return r.a.createElement(pt,{style:{padding:"6px",display:"block"}},[["12","01","02","03"],["04","05","06","07"],["08","09","10","11"]].map(function(e,t){return r.a.createElement(vt,{key:t},e.map(function(e,t){return r.a.createElement(bt,{key:t,onClick:function(){return n.setHourFromTable(e)}},e)}))}))},n.getMinutesTable=function(){return r.a.createElement(pt,{style:{padding:"6px",display:"block"}},[["00","05","10","15"],["20","25","30","35"],["40","45","50","55"]].map(function(e,t){return r.a.createElement(vt,{key:t},e.map(function(e,t){return r.a.createElement(bt,{key:t,onClick:function(){return n.setMinuteFromTable(e)}},e)}))}))},n.handleHoursTableShow=function(){var e=n.state.showHoursTable;n.setState({showHoursTable:!e})},n.handleMinutesTableShow=function(){var e=n.state.showMinutesTable;n.setState({showMinutesTable:!e})},n.getBody=function(){var e=n.state,t=e.showHoursTable,a=e.showMinutesTable;return t?n.getHoursTable():a?n.getMinutesTable():n.getTimeForm()},n.getTimeFormat=function(){var e=n.state,t=e.hours,a=e.minutes,r=e.labelTime;return"".concat(t,":").concat(a," ").concat(r.toUpperCase())},n.returnTimeToParent=function(){(0,n.props.onChange)(n.getTimeFormat())},n.state=n.getInitialState(),n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return this.getBody()}}]),t}(a.Component),ut=b.a.i(st()),mt=b.a.button(ct()),dt=b.a.div(it()),pt=b.a.div(ot()),ht=b.a.div(rt()),ft=b.a.div(at()),vt=b.a.div(nt()),bt=Object(b.a)(mt)(tt()),gt=Object(b.a)(mt)(et()),Et=lt;function yt(){var e=Object(m.a)(["\n  z-index: 99999999;\n  height: 207px;\n  width: 272px;\n  position: absolute;\n  background-color: white;\n  border: 1px solid rgba(0,0,0,0.1);\n  border-radius: 4px;\n"]);return yt=function(){return e},e}var Ot=function(e){function t(e){var n;Object(d.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).toogleTimePicker=function(){var e=n.state.show;n.setState({show:!e})},n.handleChange=function(e){var t=n.props.onChange;t&&n.setState({time:e},function(){return t(e)})};var a=Ye()().format("hh:mm A");return n.state={show:!1,time:a},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.onChange,n=e.editing,a=e.timeOnEdit,r=Ye()().format("hh:mm A"),o=n?a:r;this.setState({time:o}),t&&t(o)}},{key:"render",value:function(){var e=this.state,t=e.show,n=e.time;return r.a.createElement(Ce.a,null,r.a.createElement(Ze.a,null,r.a.createElement(Ae.a,{readOnly:!0,type:"text",value:n}),r.a.createElement(Ze.a.Addon,{style:{cursor:"pointer"},onClick:this.toogleTimePicker},r.a.createElement("i",{className:"far fa-clock"}))),t&&r.a.createElement(jt,{id:"timepicker"},r.a.createElement(Et,{onChange:this.handleChange})))}}]),t}(a.Component),jt=b.a.div(yt()),wt=Ot,xt=[{value:"monday",label:"Monday"},{value:"tuesday",label:"Tuesday"},{value:"wednesday",label:"Wednesday"},{value:"thursday",label:"Thursday"},{value:"friday",label:"Friday"},{value:"saturday",label:"Saturday"},{value:"sunday",label:"Sunday"}],kt=[{label:"Boss",value:"boss"},{label:"Quest",value:"quest"},{label:"PK",value:"pk"}],St=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).getInitialState=function(){var e={label:"",value:""};return{name:"",type:e,npc:"",place:"",day:e,time:"",sound:"none",showTimePicker:!1}},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(Se.a)({},a,r))},n.handleSelectChange=function(e,t){var a=t.name;e?n.setState(Object(Se.a)({},a,e)):n.setState(Object(Se.a)({},a,{label:"",value:""}))},n.handleTimeChange=function(e){n.setState({time:e})},n.createEvent=function(){var e=n.state,t=e.name,a=e.type,r=e.npc,o=e.place,i=e.day,c=e.time,s=e.sound,l={name:t,type:a.label,npc:r,place:o,day:i.label,time:c,sound:s};(0,n.props.createEvent)(l)},n.editEvent=function(){var e=n.state,t=e.name,a=e.type,r=e.npc,o=e.place,i=e.day,c=e.time,s=e.sound,l={id:e.id,name:t,type:a.label,npc:r,place:o,day:i.label,time:c,sound:s};(0,n.props.editEvent)(l)},n.handleSubmit=function(e){e.preventDefault(),n.props.edit?n.editEvent():n.createEvent()},n.state=n.getInitialState(),n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.edit,n=e.eventToModify,a=e.show;if(t){var r=n.name,o=n.type,i=n.npc,c=n.place,s=n.day,l=n.time,u=n.sound,m=n._id;this.setState({id:m,name:r,type:{label:o,value:o.toLowerCase()},npc:i,place:c,day:{label:s,value:s.toLowerCase()},time:l,sound:u})}else a||this.setState(this.getInitialState())}},{key:"render",value:function(){var e=this.props,t=e.show,n=e.onHide,a=e.edit,o=this.state,i=o.name,c=o.showTimePicker,s=o.place,l=o.npc,u=o.type,m=o.day,d=o.time;return r.a.createElement(Fe,{title:"Event",onHide:n,show:t},r.a.createElement(D.a,{fluid:!0},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(B.a,null,r.a.createElement(L.a,{md:6},r.a.createElement(Ce.a,null,r.a.createElement(Te.a,null,"Name"),r.a.createElement(Ae.a,{required:!0,type:"text",value:i,name:"name",placeholder:"Enter name",onChange:this.handleChange}))),r.a.createElement(L.a,{md:6},r.a.createElement(Te.a,null,"Type"),r.a.createElement($e.a,{isClearable:!0,options:kt,onChange:this.handleSelectChange,name:"type",value:u}))),r.a.createElement(B.a,null,r.a.createElement(L.a,{md:6},r.a.createElement(Ce.a,null,r.a.createElement(Te.a,null,"Place"),r.a.createElement(Ae.a,{type:"text",value:s,name:"place",placeholder:"Enter place",onChange:this.handleChange}))),r.a.createElement(L.a,{md:6},r.a.createElement(Ce.a,null,r.a.createElement(Te.a,null,"NPC"),r.a.createElement(Ae.a,{type:"text",value:l,name:"npc",placeholder:"Enter npc",onChange:this.handleChange})))),r.a.createElement(B.a,null,r.a.createElement(L.a,{md:6},r.a.createElement(Te.a,null,"Time"),r.a.createElement(wt,{editing:a,onChange:this.handleTimeChange,show:c,timeOnEdit:d})),r.a.createElement(L.a,{md:6},r.a.createElement(Te.a,null,"Day"),r.a.createElement($e.a,{isClearable:!0,options:xt,value:m,name:"day",onChange:this.handleSelectChange}))),r.a.createElement(B.a,null,r.a.createElement(L.a,{md:6},r.a.createElement(W.a,{type:"submit",bsStyle:"success"},"Save"),r.a.createElement(W.a,{onClick:n,style:{marginLeft:"10px"},type:"button",bsStyle:"danger"},"Cancel"))))))}}]),t}(a.Component),Ct=function(e,t){return{type:e,payload:t}},Tt=function(e){var t="";return t=e.response?e.response.data.error:e.toString(),Ct("EVENT_ERROR",t)},At=function(e){return function(t,n){return new Promise(function(a,r){0===K.a.size(n().EventReducer.events)||e?u.a.get("/api/event/").then(function(e){var n=K.a.keyBy(e.data.events,"_id");t(Ct("GET_EVENTS",n)),a()}).catch(function(e){t(Tt(e)),r()}):a()})}},Mt=n(171),Ut=n.n(Mt),Rt=n(283),Pt=n.n(Rt),Ft=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},n.handleToggle=function(){n.setState(function(e){return{open:!e.open}})},n.handleClose=function(e){n.anchorEl.contains(e.target)||n.setState({open:!1})},n.customClose=function(e,t){n.anchorEl.contains(e.target)||n.setState({open:!1},t)},n.onEdit=function(e){n.customClose(e,function(){var e=n.props.onEdit;e&&e()})},n.onRemove=function(e){n.customClose(e,function(){var e=n.props.onRemove;e&&e()})},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state.open;return r.a.createElement("div",{className:t.root},r.a.createElement("div",null,r.a.createElement(te.a,{buttonRef:function(t){e.anchorEl=t},"aria-owns":n?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:this.handleToggle},r.a.createElement("i",{className:"fas fa-ellipsis-v"})),r.a.createElement(Pt.a,{id:"simple-menu",anchorEl:this.anchorEl,open:n,onClose:this.handleClose},r.a.createElement(Ut.a,{style:{fontSize:"13px"},onClick:this.onEdit},"Edit"),r.a.createElement(Ut.a,{style:{fontSize:"13px"},onClick:this.onRemove},"Remove"))))}}]),t}(r.a.Component),Nt=Object(je.withStyles)(function(e){return{root:{}}})(Ft);function Ht(){var e=Object(m.a)(["\n  font-family: 'Orbitron', sans-serif;\n  letter-spacing: 1px;\n  text-align: center;\n  font-size: 22px;\n  ","\n  padding-top: 15px;\n"]);return Ht=function(){return e},e}function It(){var e=Object(m.a)(["\n  border-bottom: 1px solid rgba(0,0,0,0.1);\n  width: 100%;\n  height: 60px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  i {\n    text-align: center;\n    font-size: 20px;\n    width: 30px;\n    margin-right: 7px;\n    cursor: pointer;\n  }\n  div {\n    ","\n    font-size: 18px;\n    padding-left: 20px;\n    font-weight: 200;\n    ","\n    p {\n      font-size: 12px !important;\n    }\n  }\n"]);return It=function(){return e},e}function zt(){var e=Object(m.a)(["\n  * {\n    box-sizing: border-box;\n  }\n  border: 1px solid rgba(0,0,0,0.04);\n  border-radius: 3px;\n  width: 260px;\n  height: 190px;\n  display: inline-block;\n  margin: 0 20px 20px 0;\n  background-color: white;\n  box-sizing: border-box;\n  p {\n    font-family: 'Open Sans';\n    font-size: 14px;\n    font-weight: 400;\n    text-align: center;\n    margin: 0;\n    width: 100%;\n    margin-bottom: 2px;\n  }\n"]);return zt=function(){return e},e}var _t=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={time:"00:00:00",hours:0,minutes:0,seconds:0,keepSettingPicker:!0,event:{}},n.getDays=function(e){var t=xt.map(function(e,t){return{day:e.value,index:t+1}}),n=Ye()().format("dddd").toLowerCase(),a=K.a.keyBy(t,"day"),r=a[e].index-a[n].index,o=r;return r<0&&(o+=7),o},n.getTimeForEvent=function(){var e=n.props.event,t=e.time,a=e.day,r=Ye()("".concat(a," ").concat(t),"ddd hh:mm A").toDate(),o=Ye()(r).format("hh"),i=Ye()(r).format("mm"),c=Ye()(r).format("A"),s=n.getDays(a.toLowerCase());return n.getTime(s,o,i,c)},n.getCurrentTime=function(){var e=Ye()(),t=Ye()(e).format("hh"),a=Ye()(e).format("mm"),r=Ye()(e).format("A");return n.getTime(0,t,a,r)},n.AlarmPicker=function(){setTimeout(function(){var e=n.state,t=e.seconds,a=e.minutes,r=e.hours,o=e.event,i=parseInt(t,10),c=parseInt(a,10),s=parseInt(r,10);0===i?0===c?0===s?((0,n.props.setEventToShow)(o),n.setState({keepSettingPicker:!1})):(c=59,s-=1,i=59):(c-=1,i=59):i-=1;n.setState({hours:n.getTimeFormat(s),seconds:n.getTimeFormat(i),minutes:n.getTimeFormat(c)},function(){n.state.keepSettingPicker&&n.AlarmPicker()})},1e3)},n.setAlarm=function(e,t){var a=n.getCurrentTime(),r=n.getTimeForEvent(),o=e.event,i=o.day,c=Ye()().format("dddd").toLowerCase(),s=60-Ye()().format("ss");if(c===i.toLowerCase()){if(a.allMinutes<r.allMinutes){var l=r.minutes-a.minutes,u=r.hours-a.hours,m=r.allMinutes-a.allMinutes;m<0?-1*m<60&&(u=0):m<60&&m>0&&(u-=1),l<0&&(l=60+l),(l-=1)<0&&(l=0),60*u>r.allMinutes-a.allMinutes&&(u-=1),u<0&&(u=0),n.setState({hours:n.getTimeFormat(u),minutes:n.getTimeFormat(l),seconds:n.getTimeFormat(s)},function(){t&&n.AlarmPicker()})}if(a.allMinutes===r.allMinutes)(0,n.props.setEventToShow)(o),n.setState({keepSettingPicker:!1});if(a.allMinutes>r.allMinutes){var d=r.minutes;n.setState({hours:n.getTimeFormat(168),minutes:n.getTimeFormat(0!==s?d-1:d),seconds:n.getTimeFormat(s)},function(){t&&n.AlarmPicker()})}}else{var p=r.hours-(a.hours+1),h=r.minutes-a.minutes,f=60-Ye()().format("ss");h<0&&(h=60+h),n.setState({hours:n.getTimeFormat(p),minutes:n.getTimeFormat(h),seconds:n.getTimeFormat(f)},function(){t&&n.AlarmPicker()})}},n.getTime=function(e,t,n,a){var r=60*parseInt(t,10)+parseInt(n,10),o=24*e+parseInt(t,10);return"PM"===a&&(r+=720,o+=12),"AM"===a&&12===o&&(o=0),{hours:o,minutes:parseInt(n,10),allMinutes:r+24*e*60}},n.getTimeFormat=function(e){return e<10?"0".concat(e):e},n.onEdit=function(){var e=n.props,t=e.event;(0,e.editAction)(t)},n.onRemove=function(){var e=n.props,t=e.event;(0,e.removeAction)(t)},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.event;this.setState({event:t},function(){return e.setAlarm(e.state,!0)})}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.event,a=this.state.event;K.a.isEqual(n,a)||this.setState({event:n},function(){return t.setAlarm(e)})}},{key:"render",value:function(){var e=this.props.event,t=this.state,n=t.hours,a=t.minutes,o=t.seconds;return r.a.createElement(Dt,null,r.a.createElement(Bt,null,r.a.createElement("div",null,r.a.createElement("span",null,e.type),r.a.createElement("p",null,e.day,", ",e.time)),r.a.createElement(Nt,{onEdit:this.onEdit,onRemove:this.onRemove})),r.a.createElement(Lt,null,n,":",a,":",o),r.a.createElement("p",null,e.name),r.a.createElement("p",null,e.place),r.a.createElement("p",null,e.npc))}}]),t}(a.Component),Dt=b.a.div(zt()),Bt=b.a.div(It(),"",""),Lt=b.a.div(Ht(),""),Wt=_t;function Vt(){var e=Object(m.a)(["\n  ","\n"]);return Vt=function(){return e},e}function qt(){var e=Object(m.a)(["\n  width: 100%;\n  padding-top: 15px;\n"]);return qt=function(){return e},e}var Gt=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.events,n=e.onEdit,a=e.onRemove,o=e.openAlarm,i=e.setEventToShow;return r.a.createElement(Kt,null,r.a.createElement(Jt,null,t.map(function(e,t){return r.a.createElement(Wt,{openAlarm:o,key:t,event:e,editAction:n,removeAction:a,setEventToShow:i})})))}}]),t}(a.Component),Kt=b.a.div(qt()),Jt=b.a.div(Vt(),""),Qt=Gt;function $t(){var e=Object(m.a)(["\n  .alarm {\n    margin: 0 auto;\n    border: 1px solid rgba(0,0,0,0.25);\n    width: 75px;\n    height: 75px;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    .icon {\n      background-image: url('./assets/img/alarm-icon.png');\n      background-repeat: no-repeat;\n      background-size: contain;\n      width: 45px;\n      height: 45px;\n    }\n  }\n"]);return $t=function(){return e},e}function Xt(){var e=Object(m.a)(["\n  background-color: #EF6262;\n  color: #FFF;\n  height: 75px;\n  font-size: 25px;\n  padding-top: 20px;\n"]);return Xt=function(){return e},e}var Yt=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(Pe.a,this.props,r.a.createElement(Zt,{closeButton:!0},"Alarm"),r.a.createElement(Pe.a.Body,null,r.a.createElement(en,null,r.a.createElement("div",{className:"alarm"},r.a.createElement("div",{className:"icon"})),r.a.createElement("div",null,"Alarm"))))}}]),t}(a.Component),Zt=Object(b.a)(Pe.a.Header)(Xt()),en=b.a.div($t()),tn=Yt,nn=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).openAlarm=function(){n.setState({showAlarm:!0})},n.setEventToShow=function(e){var t=n.state.shownEvents;t.push(e),n.setState({shownEvents:t,showAlarm:!0})},n.setEventsFromProps=function(e){var t=e.events,a=n.state,r=a.edit,o=a.eventToModify,i=K.a.values(t);n.setState({events:i,eventToModify:r?t[o._id]:{}})},n.createEvent=function(e){(0,n.props.createEvent)(e).then(function(){n.setState({showModal:!1,edit:!1,snackbar:{open:!0,message:"Event added successfully",type:"success"}})}).catch(function(){var e=n.props.error;n.setState({snackbar:{open:!0,message:e,type:"error"}})})},n.editEvent=function(e){(0,n.props.modifyEvent)(e).then(function(){n.setState({showModal:!1,edit:!1,snackbar:{open:!0,message:"Event updated successfully",type:"success"}})}).catch(function(){var e=n.props.error;n.setState({snackbar:{open:!0,message:e,type:"error"}})})},n.handleHide=function(){n.setState({showModal:!1,edit:!1})},n.hideAlarmModal=function(){n.setState({showAlarm:!1})},n.handleCloseSnackBar=function(){var e=n.state.snackbar;n.setState({snackbar:Object(H.a)({},e,{open:!1})})},n.onEdit=function(e){n.setState({eventToModify:e,showModal:!0,edit:!0})},n.onRemove=function(e){var t=e._id;(0,n.props.removeEvent)({id:t}).then(function(){n.setState({snackbar:{open:!0,message:"Event removed successfully",type:"success"}})}).catch(function(){var e=n.props.error;n.setState({snackbar:{open:!0,message:e,type:"error"}})})},n.handleSelect=function(){},n.state={shownEvents:[],showAlarm:!1,edit:!1,showModal:!1,eventToModify:{},events:[],snackbar:{open:!1,message:"",type:""}},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){var e=this;(0,this.props.getAllEvents)().catch(function(){var t=e.props.error;e.setState({snackbar:{open:!0,message:t,type:"error"}})})}},{key:"componentDidMount",value:function(){this.setEventsFromProps(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.setEventsFromProps(e)}},{key:"render",value:function(){var e=this,t=this.props.history,n=this.state,a=n.showModal,o=n.snackbar,i=n.edit,c=n.events,s=n.eventToModify,l=n.showAlarm;return r.a.createElement(F,{history:t},r.a.createElement(x,{title:"Events"}),r.a.createElement(y.a,null,r.a.createElement(St,{show:a,onHide:this.handleHide,editEvent:this.editEvent,createEvent:this.createEvent,edit:i,eventToModify:s}),r.a.createElement(y.a.Body,null,r.a.createElement(D.a,{fluid:!0},r.a.createElement(B.a,null,r.a.createElement(L.a,{md:12},r.a.createElement(W.a,{onClick:function(){return e.setState({showModal:!0})},bsStyle:"success"},"Add a New Event")))))),r.a.createElement(Je.a,{activeKey:2,onSelect:this.handleSelect,id:"controlled-tab-example"},r.a.createElement(Qe.a,{eventKey:1,title:"Upcoming"},"Tab 1 content"),r.a.createElement(Qe.a,{eventKey:2,title:"All"},r.a.createElement(Qt,{openAlarm:this.openAlarm,onRemove:this.onRemove,onEdit:this.onEdit,events:c,setEventToShow:this.setEventToShow})),r.a.createElement(Qe.a,{eventKey:3,title:"Prizes List",disabled:!0},"Tab 3 content")),r.a.createElement(tn,{show:l,onHide:this.hideAlarmModal}),r.a.createElement(ke,{type:o.type,open:o.open,message:o.message,onClose:this.handleCloseSnackBar}))}}]),t}(a.Component),an=Object(s.b)(function(e){return{events:e.EventReducer.events,error:e.EventReducer.error}},function(e){return{getAllEvents:function(){return e(At())},createEvent:function(t){return e(function(e){return function(t){return new Promise(function(n,a){u.a.post("/api/event/",e).then(function(e){var a=e.data.event;t(Ct("ADD_EVENT",a)),n()}).catch(function(e){t(Tt(e)),a()})})}}(t))},modifyEvent:function(t){return e(function(e){return function(t){return new Promise(function(n,a){var r=e.id;u.a.put("/api/event/".concat(r),e).then(function(e){var a=e.data,r=a.event,o=a.messsage;t(Ct("UPDATE_EVENT",r)),n(o)}).catch(function(e){t(Tt(e)),a()})})}}(t))},removeEvent:function(t){return e(function(e){return function(t){return new Promise(function(n,a){var r=e.id;u.a.delete("/api/event/".concat(r)).then(function(){t(At(!0)),n()}).catch(function(e){t(Tt(e)),a()})})}}(t))}}})(nn),rn=function(){return r.a.createElement(g.a,null,r.a.createElement(E.a,{path:"/users",component:Ke}),r.a.createElement(E.a,{path:"/events",component:an}),r.a.createElement(E.a,{path:"/",component:N}))};function on(){var e=Object(m.a)(["\n  color: white;\n  font-size: 24px;\n"]);return on=function(){return e},e}function cn(){var e=Object(m.a)(["\n  height: 100%;\n  width: auto;\n  min-width: 60px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  margin-left: 5px;\n"]);return cn=function(){return e},e}function sn(){var e=Object(m.a)(["\n  position: fixed;\n  left: ",";\n  z-index: 1;\n  box-sizing: border-box;\n  width: 100%;\n  height: 80px;\n  background-color: #0090dd;\n  padding: 0 35px 0 20px;\n  display: flex;\n  color: white;\n  .logo-container {\n    width: 50%;\n    display: flex;\n    align-items: center;\n  }\n\n  .options-container {\n    width: 50%;\n    display: flex;\n    justify-content: flex-end;\n  }\n"]);return sn=function(){return e},e}var ln=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isInAside,n=e.toogleConfigMenu;return r.a.createElement(un,{isInAside:t},r.a.createElement("div",{className:"logo-container"},"Anunnakys"),r.a.createElement("div",{className:"options-container"},r.a.createElement(mn,null,r.a.createElement(dn,{className:"fas fa-adjust"})),r.a.createElement(mn,{onClick:n},r.a.createElement(dn,{className:"fas fa-cog"}))))}}]),t}(a.Component),un=b.a.div(sn(),function(e){return e.isInAside?"-270px":0}),mn=b.a.div(cn()),dn=b.a.i(on()),pn=ln;function hn(){var e=Object(m.a)(["\n  box-sizing: border-box;\n  width: 270px;\n  height: 100%;\n  min-height: 100%;\n  overflow-y: auto;\n  z-index: 99999;\n  top: 0;\n  position: fixed;\n  margin-left: 100%;\n  background-color: rgba(0,0,0,0.75);\n  color: white;\n"]);return hn=function(){return e},e}var fn=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(vn,null)}}]),t}(a.Component),vn=b.a.div(hn()),bn=fn;function gn(){var e=Object(m.a)(["\n  position: absolute;\n  min-height: 100%;\n  margin: 0 0 0 100px;\n  padding: 100px 30px 30px 30px;\n  background-color: rgba(0,0,0,0.05);\n  width: calc(100% - 100px);\n  max-width: calc(100% - 100px);\n  box-sizing: border-box;\n"]);return gn=function(){return e},e}function En(){var e=Object(m.a)(["\n  box-sizing: border-box;\n  position: absolute;\n  width: 100%;\n  margin-top: 80px;\n  min-height: calc(100% - 80px);\n"]);return En=function(){return e},e}function yn(){var e=Object(m.a)(["\n  .isInAside {\n    left: -270px;\n  }\n  height: 100%;\n  position: absolute;\n  width: 100%;\n  z-index: -1;\n"]);return yn=function(){return e},e}var On=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).toogleConfigMenu=function(){var e=n.state.isInAside;n.setState({isInAside:!e})},n.state={isInAside:!1},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.children,t=this.state.isInAside;return r.a.createElement(jn,null,r.a.createElement(pn,{isInAside:t,toogleConfigMenu:this.toogleConfigMenu}),r.a.createElement(wn,{className:t?"isInAside":""},r.a.createElement(xn,null,e),r.a.createElement(bn,null)))}}]),t}(a.Component),jn=b.a.div(yn()),wn=b.a.div(En()),xn=b.a.div(gn()),kn=On;function Sn(){var e=Object(m.a)(["\n  width: 100%;\n  padding-left: 10px;\n  padding-right: 10px;\n"]);return Sn=function(){return e},e}function Cn(){var e=Object(m.a)(["\n  width: 100%;\n  height: 60px;\n  background-color: rgb(47, 62, 72);\n  display: flex;\n  align-items: center;\n  color: #FFF;\n  font-weight: 400;\n  font-size: 20px;\n  font-family: 'Roboto';\n  padding-left: 22px;\n  border-radius: 5px 5px 0 0;\n"]);return Cn=function(){return e},e}function Tn(){var e=Object(m.a)(["\n  background-color: #FFF;\n  width: 450px;\n  height: 375px;\n  border-radius: 5px;\n"]);return Tn=function(){return e},e}function An(){var e=Object(m.a)(["\n  background-color: #0090dd;\n  position: absolute;\n  width: 100%;\n  min-height: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return An=function(){return e},e}function Mn(){var e=Object(m.a)(["\n  padding: 30px 0 20px 14px;\n  color: rgb(47, 62, 72);\n  font-size: 20px;\n  font-weight: 400;\n"]);return Mn=function(){return e},e}function Un(){var e=Object(m.a)(["\n  font-weight: 400;\n"]);return Un=function(){return e},e}function Rn(){var e=Object(m.a)(["\n  background-color: rgb(96, 125, 139);\n  color: #FFF;\n  &:hover {\n    background-color: rgb(96, 125, 139);\n    color: #FFF;\n  }\n  i {\n    padding-right: 5px;\n  }\n"]);return Rn=function(){return e},e}var Pn=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(Se.a)({},a,r))},n.handleSubmit=function(e){e.preventDefault();var t=n.props.login,a=n.state;t({username:a.username,password:a.password}).then(function(){n.props.history.push("/events")}).catch(function(){console.log("error sign in")})},n.state={username:"",password:""},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.logged,n=e.history;t&&n.push("/events")}},{key:"render",value:function(){var e=this.state,t=e.username,n=e.password;return r.a.createElement(In,null,r.a.createElement(zn,null,r.a.createElement(_n,null,r.a.createElement("span",null,"Anunnakys")),r.a.createElement(Dn,null,r.a.createElement(Hn,null,"Sign in"),r.a.createElement(D.a,{fluid:!0},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(Ce.a,null,r.a.createElement(Nn,null,"Username"),r.a.createElement(Ae.a,{autoComplete:"off",required:!0,type:"text",value:t,name:"username",placeholder:"Enter username",onChange:this.handleChange})),r.a.createElement(Ce.a,null,r.a.createElement(Nn,null,"Password"),r.a.createElement(Ae.a,{required:!0,type:"password",value:n,name:"password",placeholder:"Enter password",onChange:this.handleChange})),r.a.createElement(Fn,{type:"submit"},r.a.createElement("i",{className:"fas fa-lock"}),r.a.createElement("span",null,"Sign in")))))))}}]),t}(a.Component),Fn=Object(b.a)(W.a)(Rn()),Nn=Object(b.a)(Te.a)(Un()),Hn=b.a.div(Mn()),In=b.a.div(An()),zn=b.a.div(Tn()),_n=b.a.div(Cn()),Dn=b.a.div(Sn()),Bn=Object(s.b)(function(e){return{logged:e.AppReducer.logged}},function(e){return{login:function(t){return e(function(e){return function(t){return new Promise(function(n,a){u.a.post("/api/auth/signin/",e).then(function(e){var a=e.data.token;k(a),t({type:"LOGIN"}),n()}).catch(function(e){a()})})}}(t))}}})(Pn),Ln=n(658),Wn=function(e){var t=function(t){function n(){var e,t;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(h.a)(this,(e=Object(f.a)(n)).call.apply(e,[this].concat(r)))).state={canAccess:!1},t}return Object(v.a)(n,t),Object(p.a)(n,[{key:"componentWillMount",value:function(){var e=this.props,t=e.logged,n=e.history;t?this.setState({canAccess:!0}):n.push("/login")}},{key:"componentWillUpdate",value:function(e){var t=this.props.history;e.logged||t.push("/login")}},{key:"render",value:function(){return this.state.canAccess&&r.a.createElement(e,null)}}]),n}(a.Component);return Object(s.b)(function(e){return{logged:e.AppReducer.logged}})(Object(Ln.a)(t))};function Vn(){var e=Object(m.a)(["\n  font-family: 'Roboto', sans-serif;\n"]);return Vn=function(){return e},e}var qn=function(){return r.a.createElement(Kn,null,r.a.createElement(kn,null,r.a.createElement(rn,null)))},Gn=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,null,r.a.createElement(E.a,{path:"/login",component:Bn}),r.a.createElement(E.a,{path:"/",component:Wn(qn)}))}}]),t}(a.Component),Kn=b.a.div(Vn()),Jn=Gn;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Qn=n(60),$n=n(288),Xn=n(289),Yn={users:{},error:null},Zn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yn,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;if("GET_USERS"===n)return Object(H.a)({},e,{error:null,users:a});if("USER_ERROR"===n)return Object(H.a)({},e,{error:a});if("ADD_USER"===n){var r=a;return Object(H.a)({},e,{users:Object(H.a)({},e.users,Object(Se.a)({},r._id,r)),error:null})}if("UPDATE_USER"===n){var o=a;return Object(H.a)({},e,{users:Object(H.a)({},e.users,Object(Se.a)({},o._id,o)),error:null})}return e},ea={events:{},error:null},ta=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;if("EVENT_ERROR"===n)return Object(H.a)({},e,{error:a});if("GET_EVENTS"===n)return Object(H.a)({},e,{error:null,events:a});if("ADD_EVENT"===n){var r=a;return Object(H.a)({},e,{events:Object(H.a)({},e.events,Object(Se.a)({},r._id,r)),error:null})}if("UPDATE_EVENT"===n){var o=a;return Object(H.a)({},e,{events:Object(H.a)({},e.events,Object(Se.a)({},o._id,o)),error:null})}return e},na={currentUser:{},logged:!1,error:null},aa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return"APP_ERROR"===n?Object(H.a)({},e,{error:a}):"LOGIN"===n?Object(H.a)({},e,{logged:!0,error:null}):e},ra=Object(Qn.combineReducers)({UserReducer:Zn,EventReducer:ta,AppReducer:aa}),oa=Object(Qn.createStore)(ra,Object(Xn.composeWithDevTools)(Object(Qn.applyMiddleware)($n.a)));new Promise(function(e,t){var n=localStorage.getItem("jwtToken");n?(k(n),u.a.post("/api/auth/check-session-token",{token:n}).then(function(t){e(t.data)}).catch(function(){localStorage.removeItem("jwtToken"),t()})):t()}).then(function(){oa.dispatch({type:"LOGIN"}),ia()}).catch(function(){ia()});var ia=function(){return i.a.render(r.a.createElement(s.a,{store:oa},r.a.createElement(c.a,null,r.a.createElement(Jn,null))),document.getElementById("root"))};"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[293,2,1]]]);
//# sourceMappingURL=main.c560757d.chunk.js.map